(function(c){var g={init:function(a,g){$this=this;var b=c.extend(a,g);b.init(b);b.bind({contextmenu:function(a){if(!a.ctrlKey||!b.ctrl){a.preventDefault();$this.start(b);c("#contextmenu").remove();var f=c('<div id="contextmenu">').addClass(b.style);f.css({position:"absolute",display:"none","z-index":"10000"}).appendTo(c("body"));for(var d in b.menu){var e=c("<a>");"function"===typeof b.menu[d]?e.click(b.menu[d]):e.attr("href",b.menu[d]);e.html(d).appendTo(f)}d=c(document).width();var e=c(document).height(),
g=f.outerWidth(),h=f.outerHeight();f.css({display:"block",top:a.pageY>e-h?e:a.pageY,left:a.pageX>d-g?d:a.pageX})}}});c(document).click(function(){$this.finish(b)}).keydown(function(a){27===a.keyCode&&$this.finish(b)}).scroll(function(){$this.finish(b)}).resize(function(){$this.finish(b)})},start:function(a){a.start(a)},finish:function(a){a.finish(a);c("#contextmenu").remove()},error:function(a){a.error(a)}};c.fn.contextmenu=function(a){a=c.extend({init:function(){},start:function(){},finish:function(){},
error:function(){},ctrl:1,style:"",menu:[]},a);this.each(function(){g.init(c(this),a)})}})(jQuery);
